@{
	ViewData["isDashboard"] = true;
}

@*Widgets*@
<div class="row mb-4">
    <div class="row">
        <div class="col-md-4 mb-4">
            <div class="d-flex flex-row widget summary income-widget">
                <div class="d-flex flex-column justify-content-center p-5 icon-wrapper">
                    <i class="fa-solid fa-arrow-trend-up fa-2xl"></i>
                </div>
                <div class="d-flex flex-column m-auto py-3 text-wrapper">
                    <span class="lead">Total Income</span>
                    <h1 class="display-6 fw-bold">@ViewBag.Income</h1>
                </div>
            </div>
        </div>

        <div class="col-md-4 mb-4">
            <div class="d-flex flex-row widget summary expense-widget">
                <div class="d-flex flex-column justify-content-center p-5 icon-wrapper">
                    <i class="fa-solid fa-arrow-trend-down fa-2xl"></i>
                </div>
                <div class="d-flex flex-column m-auto py-3 text-wrapper">
                    <span class="lead">Total Expense</span>
                    <h1 class="display-6 fw-bold">@ViewBag.Expense</h1>
                </div>
            </div>
        </div>

        <div class="col-md-4 mb-4">
            <div class="d-flex flex-row widget summary balance-widget">
                <div class="d-flex flex-column justify-content-center p-5 icon-wrapper">
                    <i class="fa-solid fa-sack-dollar fa-2xl"></i>
                </div>
                <div class="d-flex flex-column m-auto py-3 text-wrapper">
                    <span class="lead">Total Balance</span>
                    <h1 class="display-6 fw-bold">@ViewBag.Balance</h1>
                </div>
            </div>
        </div>
    </div>
</div>

@*Chars*@
<div class="row mb-4">
    <div class="col-md-4">
        <div class="widget chart">
            <div class="title p-4">
                <h5 class="fw-bold">Expense By Category</h5>
            </div>
            <div id="ExpenseCharContainer" class="chart-container  small-chart">
                @(Html.EJS().AccumulationChart("ExpenseChar")
                    .DataSource((IEnumerable<object>)ViewBag.CharData)
                    .Series(series =>
                    {
                        series.DataLabel(dl => dl.Visible(true)
                        .Position(Syncfusion.EJ2.Charts.AccumulationLabelPosition.Inside)
                        .Font(ft => ft.FontWeight("600"))
                        .Name("formattedAmount"))
                        .XName("categoryTitleWithIcon")
                        .YName("amount")
                        .InnerRadius("60%")
                        .Name("Project").Border(br => br.Width(1))
                        .ExplodeIndex(0).DataSource(ViewBag.CharData).Add();
                    })
                    .LegendSettings(legend =>
                    {
                        legend.Visible(true);
                        legend.Position(Syncfusion.EJ2.Charts.LegendPosition.Bottom); 
                        legend.Width("100%");
                        legend.Padding(50);
                    })
                    .Render()
                    )
            </div>
            <div class="col-md-8"></div>
        </div>
    </div>

</div>
